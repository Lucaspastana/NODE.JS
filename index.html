<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produtos</title>
</head>
<body>
    <script>
        let dados = [];
        fetch('http://localhost:3000/api/produtos')
            .then(response => response.json())
            .then(data => {
                console.log(data);
                dados = data;
                const div = document.createElement('div');
                div.setAttribute('id', 'card');

                for (let i = 0; i < dados.length; i++) {
                    const title = document.createElement('h1');
                    const preco = document.createElement('h2');
                    const img = document.createElement('img');

                    console.log(dados[i].nome);
                    console.log(dados[i].preco);
                    
                    title.innerHTML = dados[i].nome;
                    preco.innerHTML = dados[i].preco;
                    img.src = "." +dados[i].url;
                    console.log( dados[i].url);
                    
                    div.appendChild(title);
                    div.appendChild(preco);
                    div.appendChild(img);
                }
                document.body.appendChild(div);
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>
</body>
</html>